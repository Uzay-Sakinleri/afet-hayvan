DROP SCHEMA IF EXISTS TEST;

CREATE SCHEMA TEST;

DROP TABLE IF EXISTS POST;

DROP TABLE IF EXISTS ANIMAL;

CREATE TABLE PUBLIC.ANIMAL(
    ANIMALID SERIAL PRIMARY KEY,
    ANIMALNAME VARCHAR(30) NOT NULL,
    FURCOLOR VARCHAR(30) NOT NULL,
    EYECOLOR VARCHAR(30) NOT NULL,
    ACCESSORY TEXT NOT NULL,
    BREED VARCHAR(25) NOT NULL,
    SPECIES VARCHAR(25) NOT NULL,
    IMAGEPATH VARCHAR(100) NOT NULL
);

CREATE TABLE PUBLIC.POST(
    POSTID SERIAL PRIMARY KEY,
    ANIMALID INTEGER REFERENCES ANIMAL(ANIMALID) ON DELETE CASCADE,
    USERID INTEGER NOT NULL,
    TITLE VARCHAR(40) NOT NULL,
    CONTENT TEXT,
    CREATEDAT DATE DEFAULT NOW() NOT NULL,
    COMPLETEDAT DATE,
    STATUS VARCHAR(30) NOT NULL
);

INSERT INTO ANIMAL (
    ANIMALNAME,
    FURCOLOR,
    EYECOLOR,
    ACCESSORY,
    BREED,
    SPECIES,
    IMAGEPATH
) VALUES (
    'Benekli',
    'beyaz',
    'kahverengi',
    'stuff',
    'something',
    'something',
    'something'
),
(
    'Gumus',
    'gri',
    'sari',
    'stuff',
    'something',
    'something',
    'something'
);

INSERT INTO POST (
    ANIMALID,
    USERID,
    TITLE,
    CONTENT,
    COMPLETEDAT,
    STATUS
) VALUES (
    1,
    100,
    'kayip',
    NULL,
    NULL,
    'active'
),
(
    2,
    100,
    'kayip',
    NULL,
    NULL,
    'active'
);